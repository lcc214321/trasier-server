language: java
sudo: false
install: true

services:
- docker

jdk:
- oraclejdk11

script:
  - "./gradlew assemble"

after_success:
- "./deploy-to-docker.sh"

before_cache:
- rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
  - "$HOME/.m2/repository/"

env:
  global:
  - secure: le6sgcq8ieaQZd+f3horQVc55J0ZNvi8+SVBmzvJCE8QYrqD+rTxX/4j+cLvqr/p3Q/k8fsHfdQbYQqsBW+dBQqO7ezBOoNjGSKPgzEGVusqSQ9QOuh65Gs65emlTQoRJrzx7ItJ9x0eQLeY3ik6lZKWxeXb000dehYxQfZdLuKuGtyxK7ntEDDN4zehfvRCAPcMTjtXjirVZgA83fu2y6f7UPGmYd7LWoFtGuHSOXWGOLVzjld010eHcSxsBdbe9WEPnaPujM81HC2ZwP/sC0fd5LqLQBXqOrecQWuqK45ECSAVaA2MOttK5d71jZuTGNNfPTFxZBQkD84m7okYEg8I6QglTwv/CcArobRLxPpqoaqJvoWXe9WqyfTaDyBIrS9ph4Dx2gMYH9WJfikeKxAhOdsYTZWKp87HK9zHRhoBO+BBpmC3gJXG5Hq0g588qswWtuUbULR5qr0oxZjEt81wIUXiVYrXK/GL8OCSgDbqBxkPOfmcN4a1HciGTUW4HxV+902q1neA8+jjsbMMPA3AP9lBigk4+F4cfYZ9YF+q4wloHyiT+pdvKztozks1pbYA1FLCju5eTTaGmVk0zljJUW0km/S28UyIRadKxAj6ZeIpnHrlq87ffZdMSUT/KgtYbEFUg3oARyvpP1Jr6xzXksdAskJsNFYZRHM0yiY=
  - secure: ZmtzHJE8kH6UF7mM0ZBBbh54yihbFePKfOXyl0maf5cC5xS/kitRrZ0HRHIpH+aKr2luNMncD44xinHzcmWSydFOO/9zRS7emKOAX6KURp5p14pYlUDNDfi4r4ruLc/KvxuAKi4zl3nA49tKopp2OPWGrZcvE2MnK2Q6tJ6bj5y6tgtmM3MqGdm3nGjAicuPg8BRJrAozZ9ssGndQ5DFmX1riJ/Q447cJziC6QxUi4zUF2U/IO2iei+oOHDoLUoHLiFONkYDwlkXP1UqCca1tvKZI0LEOYZRg4Kn/a9nV/kLYeBX3ArcxXpKPFZDNgzf5vC1TYgXzfcySQ0UjAdvIFnlS7LWddOLICnQjsBuCvUlRYNecHRKRqzO2n1z0J74rh/PyieUE0l2gQ6oguIlIv3glYM3gfvEsLmWNCvnbpQx6XYmUJD/Z+en+hhM/MhTnfYd4Kz9D8pRRfQ16CFZk7DDsLXEOCMvtq+seGJPUNjTekZTsoPJqu1c2XA5Eue4sn+ZDCf0Uvj3IgRTDATS1edLX5gRrE0u5aayZ13KoQ2TYgUxJsIAVBDuTolCIbsQqXgAtm+7EOzBAWPvu6z/TIisbV1tR6+gikeOIq5V/LXOJ9qbubzcSuCoPxRCEe9FvrC2n4LmFtXeiaxFyFZpzMQs5qK121diVt7rcpbPVZI=
  - secure: vOuF35m35gRXUCrqhmWUi39e+jzGyL00HDB0bAChFNuRp7QNbwZaDUUQt3bJuGoE62F5KJhEZw/uR0DeElIa/Ky/0oIPTL9j/3WLHlYMPeKOMjmD9WNMFWC+/wnOIpCuNSa8cT0/S1i7S9aib5BopDXButXVqcjzWkAkkteB53//1yq3M9LrWwgnfjU3VyyQRKY3Qsgmgd0uL+qE//8yzSemf30von++FKdf1xeg1LFTeWLd+wVCGki00QU6tzlJ217lqZ7lhgwf4mwLpUJCVcZMPDGArzQFModvgAyYv2jgV4fSeDxmEyoOtAd4OulIbUC0RJZttiZC1ULGTfJshnu15hAb3EGQOknjmY466UnGJ9OFlbzEwBE5Rld5gvg58A/k2VBrLy9jFweOFuHPX5MP4bb2VdwqG0ytSm4BJAEa3ffT0e224zYuedkRWw3QhvVwpLpA878KQsUkAudEa3EYE6O/jOg8Xv72lBHxY/fRKVfSyOYr1gqw8zRQCbfK/6z4OirueB3NZcJNVJTAIMBn+Fx/MXUBXlVNMKYSAO9wlUKWqz3flG+GZKuCLUAg6RS9+q5SmXmuek9wIBGX74PNSE1hSnmgOvG9AgkPoiZR6Xuhap22cJLiJ3Dp1LmAVITMECtnwnNmTnHFWeKOdV8uMomq6Vx1+AMnP8qoC9M=
